# Suppression des tables si elles existent
DROP TABLE IF EXISTS noeuds
DROP TABLE IF EXISTS questions
DROP TABLE IF EXISTS choix
DROP TABLE IF EXISTS minijeux

# Creation des tables
CREATE TABLE noeuds(id integer primary key, question integer, mini_jeu integer, FOREIGN KEY(question) REFERENCES questions(id), FOREIGN KEY(mini_jeu) REFERENCES minijeux(id))
CREATE TABLE questions(id integer primary key, scenario integer, fichiervoix text)
CREATE TABLE choix(id integer primary key, question_id integer, question_position integer, noeud_id integer, FOREIGN KEY(question_id) REFERENCES questions(id))
CREATE TABLE minijeux(id integer primary key, niv1 integer, niv2 integer, niv3 integer, niv4 integer, FOREIGN KEY(niv1) REFERENCES noeuds(id), FOREIGN KEY(niv2) REFERENCES noeuds(id), FOREIGN KEY(niv3) REFERENCES noeuds(id), FOREIGN KEY(niv4) REFERENCES noeuds(id))

INSERT INTO questions(id, scenario, fichiervoix) VALUES(42, 1, 'voix.ogg')
SELECT * FROM questions
